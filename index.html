<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2SEC • Time-Based Deflationary Burn</title>

<style>
    :root {
        --bg: #020617;
        --bg-alt: #050816;
        --card: #050b1f;
        --accent: #00eaff;
        --accent-strong: #00c3ff;
        --accent-soft: #00eaff33;
        --accent-pink: #ff4bcb;
        --text-main: #f9fafb;
        --text-muted: #9ca3af;
        --border-subtle: #1f2937;
        --danger: #ff4b81;
        --success: #4ade80;
        --warning: #facc15;
    }

    * {
        box-sizing: border-box;
    }

    body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background:
            radial-gradient(circle at top, #111827 0, #020617 45%, #000 100%);
        color: var(--text-main);
    }

    a {
        color: var(--accent);
        text-decoration: none;
    }

    a:hover {
        text-decoration: underline;
    }

    header {
        padding: 32px 16px 40px;
        text-align: center;
        position: relative;
        overflow: hidden;
    }

    header::before {
        content: "";
        position: absolute;
        inset: -40%;
        background:
            radial-gradient(circle at 10% 0, #00eaff22 0, transparent 55%),
            radial-gradient(circle at 90% 0, #ff4bcb22 0, transparent 55%);
        opacity: 0.9;
        pointer-events: none;
    }

    .hero-inner {
        position: relative;
        max-width: 1100px;
        margin: 0 auto;
        z-index: 1;
    }

    .hero-logo {
        width: 140px;
        height: 140px;
        border-radius: 50%;
        border: 2px solid var(--accent);
        box-shadow: 0 0 30px var(--accent-soft);
        margin-bottom: 12px;
        object-fit: contain;
        background: radial-gradient(circle at 30% 20%, #ffffff55 0, transparent 45%), #020617;
    }

    .hero-title {
        font-size: 40px;
        margin: 0;
        letter-spacing: 0.12em;
        text-transform: uppercase;
    }

    .hero-subtitle {
        margin-top: 10px;
        font-size: 15px;
        color: var(--text-muted);
        max-width: 640px;
        margin-left: auto;
        margin-right: auto;
    }

    .hero-badges {
        margin-top: 18px;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 10px;
    }

    .badge {
        padding: 6px 12px;
        border-radius: 999px;
        border: 1px solid var(--accent-soft);
        background: #020617aa;
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--text-muted);
    }

    .hero-actions {
        margin-top: 22px;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 12px;
    }

    .btn {
        padding: 10px 18px;
        border-radius: 999px;
        border: 1px solid var(--accent);
        background: linear-gradient(135deg, #00eaff, #0066ff);
        color: #000;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        box-shadow: 0 0 18px var(--accent-soft);
    }

    .btn.secondary {
        background: transparent;
        color: var(--accent);
        border-color: var(--accent-soft);
        box-shadow: none;
    }

    .btn:hover {
        filter: brightness(1.05);
    }

    main {
        max-width: 1150px;
        margin: 0 auto 60px;
        padding: 0 16px 40px;
    }

    .grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 14px;
        margin-top: -20px;
        margin-bottom: 30px;
    }

    @media (max-width: 1000px) {
        .grid {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
    }

    @media (max-width: 650px) {
        .grid {
            grid-template-columns: 1fr;
        }
    }

    .stat-card {
        background: var(--card);
        border-radius: 12px;
        padding: 14px 14px 16px;
        border: 1px solid var(--border-subtle);
        box-shadow: 0 0 12px #000000aa;
        position: relative;
        overflow: hidden;
    }

    .stat-card::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at top, var(--accent-soft) 0, transparent 55%);
        opacity: 0;
        transition: opacity 0.25s ease-out;
        pointer-events: none;
    }

    .stat-card:hover::before {
        opacity: 0.4;
    }

    .stat-label {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: var(--text-muted);
    }

    .stat-value {
        margin-top: 6px;
        font-size: 20px;
        font-weight: 600;
    }

    .stat-tag {
        margin-top: 6px;
        font-size: 11px;
        color: var(--text-muted);
    }

    .pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 9px;
        border-radius: 999px;
        font-size: 11px;
        border: 1px solid var(--border-subtle);
        background: #020617dd;
        color: var(--text-muted);
    }

    .pill-dot {
        width: 7px;
        height: 7px;
        border-radius: 50%;
        background: var(--accent);
        box-shadow: 0 0 8px var(--accent);
    }

    section {
        margin-bottom: 32px;
    }

    section h2 {
        font-size: 22px;
        margin-bottom: 8px;
    }

    section p {
        color: var(--text-muted);
        font-size: 14px;
        line-height: 1.6;
    }

    .card {
        background: var(--card);
        border-radius: 14px;
        padding: 18px 18px 20px;
        border: 1px solid var(--border-subtle);
        box-shadow: 0 0 18px #000000aa;
        position: relative;
        overflow: hidden;
    }

    .card::before {
        content: "";
        position: absolute;
        inset: -40%;
        background: radial-gradient(circle at top left, #00eaff11 0, transparent 55%);
        opacity: 0.7;
        pointer-events: none;
    }

    .burn-phases {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 14px;
        margin-top: 14px;
    }

    @media (max-width: 800px) {
        .burn-phases {
            grid-template-columns: 1fr;
        }
    }

    .phase-card {
        background: #020617dd;
        border-radius: 10px;
        padding: 12px 12px 14px;
        border: 1px solid #1f2937;
    }

    .phase-title {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 4px;
    }

    .phase-tag {
        font-size: 11px;
        color: var(--text-muted);
        margin-bottom: 6px;
    }

    .phase-metric {
        font-size: 13px;
        margin: 3px 0;
    }

    .phase-metric span {
        color: var(--accent);
        font-weight: 600;
    }

    .timeline {
        margin-top: 16px;
        border-left: 2px solid #1f2937;
        padding-left: 14px;
    }

    .timeline-item {
        margin-bottom: 10px;
        position: relative;
    }

    .timeline-item::before {
        content: "";
        position: absolute;
        left: -15px;
        top: 4px;
        width: 9px;
        height: 9px;
        border-radius: 50%;
        background: var(--accent);
        box-shadow: 0 0 10px var(--accent-soft);
    }

    .timeline-label {
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--text-muted);
    }

    .timeline-text {
        font-size: 13px;
    }

    .progress-container {
        background: #111827;
        border: 1px solid #1f2937;
        border-radius: 10px;
        padding: 12px;
        margin-top: 14px;
    }

    .progress-bar {
        height: 16px;
        background: #1f2937;
        border-radius: 8px;
        overflow: hidden;
        margin-top: 6px;
    }

    .progress-fill {
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, #00eaff, #ff4bcb);
        transition: width 1s ease-out;
    }

    .countdown {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 10px;
    }

    .countdown-box {
        background: #020617dd;
        border-radius: 10px;
        padding: 8px 10px;
        border: 1px solid #1f2937;
        min-width: 70px;
        text-align: center;
    }

    .countdown-value {
        font-size: 18px;
        font-weight: 600;
    }

    .countdown-label {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--text-muted);
    }

    #burn-log {
        margin-top: 10px;
        max-height: 360px;
        overflow-y: auto;
        padding-right: 4px;
    }

    #burn-log div {
        background: #020617;
        padding: 8px 10px;
        margin: 5px 0;
        border-radius: 6px;
        border-left: 3px solid var(--accent);
        font-size: 13px;
        color: #e5e7eb;
    }

    #burn-log div:nth-child(odd) {
        background: #020617dd;
    }

    .footer {
        text-align: center;
        padding: 18px 10px 26px;
        font-size: 12px;
        color: var(--text-muted);
        border-top: 1px solid #020617;
        background: #020617;
    }
</style>
</head>

<body>

<header>
    <div class="hero-inner">
        <img src="https://raw.githubusercontent.com/2SECSUI/TwoSecondBurn-Time-based-deflation/main/2secLogo.png?v=1" class="hero-logo">
        <h1 class="hero-title">2SEC</h1>
        <p class="hero-subtitle">
            Time‑based, deflationary Sui token with a transparent burn vault, fixed 150M circulating supply, and a hard‑coded 10‑year schedule.
        </p>

        <div class="hero-badges">
            <div class="badge">1,000,000,000 SEC2 • Fixed Total Supply</div>
            <div class="badge">150,000,000 SEC2 • Circulating</div>
            <div class="badge">850,000,000 SEC2 • Burn Vault</div>
        </div>

        <div class="hero-actions">
            <a class="btn" href="https://suiscan.xyz/mainnet/coin/0xf7323565fb71c360edc39a93b2524f88997a87f2d396c693dbf8185151fb8bce::sec2::SEC2" target="_blank">
                View Contract on SuiScan
            </a>
            <a class="btn secondary" href="https://github.com/2SECSUI/TwoSecondBurn-Time-based-deflation" target="_blank">
                View Code on GitHub
            </a>
        </div>
    </div>
</header>

<main>

    <!-- Top stats grid -->
    <div class="grid">
        <div class="stat-card">
            <div class="stat-label">Total Supply</div>
            <div class="stat-value">1,000,000,000 SEC2</div>
            <div class="stat-tag">Hard‑coded at launch • No further minting</div>
        </div>

        <div class="stat-card">
            <div class="stat-label">Circulating Supply</div>
            <div class="stat-value">150,000,000 SEC2</div>
            <div class="stat-tag">Fixed circulating amount • Vault holds the rest</div>
        </div>

        <div class="stat-card">
            <div class="stat-label">Vault Balance (Live)</div>
            <div class="stat-value" id="vault-balance">Loading...</div>
            <div class="stat-tag">
                <span class="pill">
                    <span class="pill-dot"></span>
                    On‑chain burn vault
                </span>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-label">Total Burned (From Vault)</div>
            <div class="stat-value" id="burned-total">Loading...</div>
            <div class="stat-tag">Initial 850M minus current vault balance</div>
        </div>
    </div>

    <!-- Burn mechanics -->
    <section>
        <div class="card">
            <h2>Burn Mechanics</h2>
            <p>
                2SEC uses a shared burn vault that continuously destroys tokens over time. The vault is initialized once,
                then any caller can trigger the <code>interact</code> function to advance the schedule, burn tokens, and
                update the on‑chain state. No admin keys, no hidden mint—just a transparent, time‑based deflation curve.
            </p>

            <div class="burn-phases">
                <div class="phase-card">
                    <div class="phase-title">Phase 1 • Boost (Days 0–200)</div>
                    <div class="phase-tag">High‑intensity burn to front‑load deflation</div>
                    <div class="phase-metric">Rate: <span>15 SEC2 / second</span></div>
                    <div class="phase-metric">Duration: <span>200 days</span></div>
                    <div class="phase-metric">Total burned in phase: <span id="phase1-burn">Loading...</span></div>
                </div>

                <div class="phase-card">
                    <div class="phase-title">Phase 2 • Normal (Day 201–Year 10)</div>
                    <div class="phase-tag">Long‑tail burn to complete the schedule</div>
                    <div class="phase-metric">Rate: <span>2 SEC2 / second</span></div>
                    <div class="phase-metric">Duration: <span>up to 10 years total</span></div>
                    <div class="phase-metric">Total burned in phase: <span id="phase2-burn">Loading...</span></div>
                </div>
            </div>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-label">T0 • Vault Initialization</div>
                    <div class="timeline-text">
                        The burn vault is created and funded with 850,000,000 SEC2. The clock starts when
                        <code>interact</code> is first called and the vault is marked initialized.
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-label">T0 → T+200 days • Boost</div>
                    <div class="timeline-text">
                        For the first 200 days, the vault burns at 15 SEC2 per second. Anyone can call
                        <code>interact</code> to realize the accumulated burn and update the on‑chain state.
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-label">T+200 days → T+10 years • Normal</div>
                    <div class="timeline-text">
                        After the boost window, the burn rate drops to 2 SEC2 per second and continues until the
                        10‑year mark, or until the internal pool is exhausted.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Burn schedule progress + countdown + rate -->
    <section>
        <div class="card">
            <h2>Burn Schedule Progress & Rate</h2>
            <p>
                Progress is measured against the initial 850,000,000 SEC2 in the burn vault. When the vault is full,
                progress is 0%. When the vault is empty, the schedule is 100% complete.
            </p>

            <div class="progress-container">
                <div><strong id="progress-label">Loading...</strong></div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>

            <div style="margin-top: 16px;">
                <p><strong>Current Phase:</strong> <span id="current-phase">Loading...</span></p>
                <p><strong>Current Burn Rate:</strong> <span id="current-rate">Loading...</span></p>
                <p><strong>Burn Per Hour:</strong> <span id="burn-per-hour">Loading...</span></p>
                <p><strong>Burn Per Day:</strong> <span id="burn-per-day">Loading...</span></p>
            </div>

            <div style="margin-top: 16px;">
                <h3 style="margin: 0 0 6px; font-size: 16px;">Countdown to End of Boost Phase</h3>
                <p style="margin: 0 0 8px; color: var(--text-muted);">
                    When this reaches zero, the burn rate transitions from 15 SEC2/sec to 2 SEC2/sec.
                </p>
                <div class="countdown" id="countdown">
                    <div class="countdown-box">
                        <div class="countdown-value" id="cd-days">--</div>
                        <div class="countdown-label">Days</div>
                    </div>
                    <div class="countdown-box">
                        <div class="countdown-value" id="cd-hours">--</div>
                        <div class="countdown-label">Hours</div>
                    </div>
                    <div class="countdown-box">
                        <div class="countdown-value" id="cd-mins">--</div>
                        <div class="countdown-label">Minutes</div>
                    </div>
                    <div class="countdown-box">
                        <div class="countdown-value" id="cd-secs">--</div>
                        <div class="countdown-label">Seconds</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Burn log -->
    <section>
        <div class="card">
            <h2>Burn Log</h2>
            <p>
                Each entry is generated by an off‑chain monitor that calls <code>interact</code>, verifies the math, and
                appends a line with timestamp and amount burned.
            </p>
            <div id="burn-log">
                <!-- Your PowerShell script appends entries here, e.g.:
                     2026-01-17 01:40:12 — Burned 12345 SEC2 -->
            
<div>2026-01-17 02:05:58 | Before: 849847450 | After: 849803620 | Burned: 43830 | Expected: 43830
<div>2026-01-17 02:16:15 | Before: 849803620 | After: 849794380 | Burned: 9240 | Expected: 9240
<div>2026-01-17 02:26:32 | Before: 849794380 | After: 849785110 | Burned: 9270 | Expected: 9270
<div>2026-01-17 02:36:48 | Before: 849785110 | After: 849775870 | Burned: 9240 | Expected: 9240
<div>2026-01-17 02:47:04 | Before: 849775870 | After: 849766645 | Burned: 9225 | Expected: 9225
<div>2026-01-17 02:57:20 | Before: 849766645 | After: 849757390 | Burned: 9255 | Expected: 9255
<div>2026-01-17 03:07:36 | Before: 849757390 | After: 849748165 | Burned: 9225 | Expected: 9225
<div>2026-01-17 03:17:51 | Before: 849748165 | After: 849738925 | Burned: 9240 | Expected: 9240
<div>2026-01-17 03:28:07 | Before: 849738925 | After: 849729700 | Burned: 9225 | Expected: 9225
<div>2026-01-17 03:38:22 | Before: 849729700 | After: 849720460 | Burned: 9240 | Expected: 9240
<div>2026-01-17 03:48:38 | Before: 849720460 | After: 849711235 | Burned: 9225 | Expected: 9225
<div>2026-01-17 03:58:53 | Before: 849711235 | After: 849701995 | Burned: 9240 | Expected: 9240
<div>2026-01-17 04:09:09 | Before: 849701995 | After: 849692785 | Burned: 9210 | Expected: 9210
<div>2026-01-17 04:19:24 | Before: 849692785 | After: 849683545 | Burned: 9240 | Expected: 9240
<div>2026-01-17 04:29:39 | Before: 849683545 | After: 849674320 | Burned: 9225 | Expected: 9225
<div>2026-01-17 04:39:55 | Before: 849674320 | After: 849665080 | Burned: 9240 | Expected: 9240
<div>2026-01-17 04:50:10 | Before: 849665080 | After: 849655855 | Burned: 9225 | Expected: 9225
<div>2026-01-17 05:00:26 | Before: 849655855 | After: 849646615 | Burned: 9240 | Expected: 9240
<div>2026-01-17 05:10:41 | Before: 849646615 | After: 849637375 | Burned: 9240 | Expected: 9240
<div>2026-01-17 05:20:57 | Before: 849637375 | After: 849628150 | Burned: 9225 | Expected: 9225
<div>2026-01-17 05:31:12 | Before: 849628150 | After: 849618925 | Burned: 9225 | Expected: 9225
<div>2026-01-17 05:41:27 | Before: 849618925 | After: 849609685 | Burned: 9240 | Expected: 9240
<div>2026-01-17 05:51:43 | Before: 849609685 | After: 849600460 | Burned: 9225 | Expected: 9225
<div>2026-01-17 06:01:58 | Before: 849600460 | After: 849591220 | Burned: 9240 | Expected: 9240
<div>2026-01-17 06:12:14 | Before: 849591220 | After: 849581995 | Burned: 9225 | Expected: 9225
<div>2026-01-17 06:22:29 | Before: 849581995 | After: 849572755 | Burned: 9240 | Expected: 9240
<div>2026-01-17 06:32:45 | Before: 849572755 | After: 849563530 | Burned: 9225 | Expected: 9225
<div>2026-01-17 06:43:00 | Before: 849563530 | After: 849554290 | Burned: 9240 | Expected: 9240
<div>2026-01-17 06:53:16 | Before: 849554290 | After: 849545065 | Burned: 9225 | Expected: 9225
<div>2026-01-17 07:03:31 | Before: 849545065 | After: 849535825 | Burned: 9240 | Expected: 9240
<div>2026-01-17 07:13:47 | Before: 849535825 | After: 849526600 | Burned: 9225 | Expected: 9225
<div>2026-01-17 07:24:02 | Before: 849526600 | After: 849517360 | Burned: 9240 | Expected: 9240
<div>2026-01-17 07:34:18 | Before: 849517360 | After: 849508135 | Burned: 9225 | Expected: 9225
<div>2026-01-17 07:44:34 | Before: 849508135 | After: 849498895 | Burned: 9240 | Expected: 9240
<div>2026-01-17 07:54:49 | Before: 849498895 | After: 849489670 | Burned: 9225 | Expected: 9225
<div>2026-01-17 08:05:04 | Before: 849489670 | After: 849480430 | Burned: 9240 | Expected: 9240
<div>2026-01-17 08:15:21 | Before: 849480430 | After: 849471190 | Burned: 9240 | Expected: 9240
<div>2026-01-17 08:25:36 | Before: 849471190 | After: 849461965 | Burned: 9225 | Expected: 9225
<div>2026-01-17 08:35:51 | Before: 849461965 | After: 849452740 | Burned: 9225 | Expected: 9225
<div>2026-01-17 08:46:06 | Before: 849452740 | After: 849443500 | Burned: 9240 | Expected: 9240
<div>2026-01-17 08:56:21 | Before: 849443500 | After: 849434275 | Burned: 9225 | Expected: 9225
<div>2026-01-17 09:06:36 | Before: 849434275 | After: 849425050 | Burned: 9225 | Expected: 9225
<div>2026-01-17 09:16:52 | Before: 849425050 | After: 849415825 | Burned: 9225 | Expected: 9225
<div>2026-01-17 09:27:07 | Before: 849415825 | After: 849406585 | Burned: 9240 | Expected: 9240
<div>2026-01-17 09:37:22 | Before: 849406585 | After: 849397360 | Burned: 9225 | Expected: 9225
<div>2026-01-17 09:47:38 | Before: 849397360 | After: 849388135 | Burned: 9225 | Expected: 9225
<div>2026-01-17 09:57:53 | Before: 849388135 | After: 849378895 | Burned: 9240 | Expected: 9240
<div>2026-01-17 10:08:08 | Before: 849378895 | After: 849369670 | Burned: 9225 | Expected: 9225
<div>2026-01-17 10:18:23 | Before: 849369670 | After: 849360445 | Burned: 9225 | Expected: 9225</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
        </div>
    </section>

    <!-- Contract details -->
    <section>
        <div class="card">
            <h2>Contract & Metadata</h2>
            <p>
                <strong>Module:</strong>
                <code>0xf7323565fb71c360edc39a93b2524f88997a87f2d396c693dbf8185151fb8bce::sec2</code><br>
                <strong>Coin Type:</strong>
                <code>SEC2</code><br>
            </p>
            <p>
                <a href="https://suiscan.xyz/mainnet/coin/0xf7323565fb71c360edc39a93b2524f88997a87f2d396c693dbf8185151fb8bce::sec2::SEC2" target="_blank">
                    View SEC2 on SuiScan
                </a>
                &nbsp;•&nbsp;
                <a href="https://github.com/2SECSUI/TwoSecondBurn-Time-based-deflation" target="_blank">
                    View repository on GitHub
                </a>
            </p>
        </div>
    </section>

</main>

<div class="footer">
    2SEC • Time‑based deflationary token on Sui • All burns verifiable on‑chain.
</div>

<script>
    const RPC = "https://fullnode.mainnet.sui.io:443";
    const VAULT_ID = "0x02edb12e7affd2ef0e77788ff6596ac854ec9a91645479acca78baad177e589a";
    const DECIMALS = 1_000_000_000;

    const INITIAL_VAULT = 850_000_000;
    const BOOST_RATE = 15;
    const NORMAL_RATE = 2;

    let boostEndTs = null;
    let countdownInterval = null;

    function calculateBurnSchedule() {
        const secondsPerDay = 86400;

        const phase1 = 200 * secondsPerDay * BOOST_RATE;
        const totalDays10Years = 3650;
        const phase2Days = totalDays10Years - 200;
        const phase2 = phase2Days * secondsPerDay * NORMAL_RATE;

        document.getElementById("phase1-burn").textContent = phase1.toLocaleString() + " SEC2";
        document.getElementById("phase2-burn").textContent = phase2.toLocaleString() + " SEC2";
    }

    function updateProgressBar(vaultBalance) {
        const burned = INITIAL_VAULT - vaultBalance;
        const percent = Math.max(0, Math.min((burned / INITIAL_VAULT) * 100, 100));

        document.getElementById("progress-label").textContent =
            percent.toFixed(2) + "% of schedule completed";

        document.getElementById("progress-fill").style.width = percent + "%";
    }

    function updateRateAndBurnStats(vaultBalance) {
        const nowSec = Date.now() / 1000;

        let currentRate = NORMAL_RATE;
        let phaseLabel = "Normal";

        if (boostEndTs && nowSec < boostEndTs) {
            currentRate = BOOST_RATE;
            phaseLabel = "Boost";
        }

        const burnPerHour = currentRate * 3600;
        const burnPerDay = currentRate * 86400;

        document.getElementById("current-phase").textContent = phaseLabel + " phase";
        document.getElementById("current-rate").textContent = currentRate.toLocaleString() + " SEC2 / second";
        document.getElementById("burn-per-hour").textContent = burnPerHour.toLocaleString() + " SEC2 / hour";
        document.getElementById("burn-per-day").textContent = burnPerDay.toLocaleString() + " SEC2 / day";

        const burned = INITIAL_VAULT - vaultBalance;
        document.getElementById("burned-total").textContent =
            burned.toLocaleString(undefined, { maximumFractionDigits: 2 }) + " SEC2";
    }

    function startCountdown() {
        if (!boostEndTs) {
            document.getElementById("cd-days").textContent = "--";
            document.getElementById("cd-hours").textContent = "--";
            document.getElementById("cd-mins").textContent = "--";
            document.getElementById("cd-secs").textContent = "--";
            return;
        }

        if (countdownInterval) clearInterval(countdownInterval);

        function tick() {
            const nowSec = Date.now() / 1000;
            let remaining = Math.floor(boostEndTs - nowSec);

            if (remaining <= 0) {
                document.getElementById("cd-days").textContent = "0";
                document.getElementById("cd-hours").textContent = "0";
                document.getElementById("cd-mins").textContent = "0";
                document.getElementById("cd-secs").textContent = "0";
                document.getElementById("current-phase").textContent = "Normal phase";
                document.getElementById("current-rate").textContent = NORMAL_RATE + " SEC2 / second";
                document.getElementById("burn-per-hour").textContent = (NORMAL_RATE * 3600).toLocaleString() + " SEC2 / hour";
                document.getElementById("burn-per-day").textContent = (NORMAL_RATE * 86400).toLocaleString() + " SEC2 / day";
                clearInterval(countdownInterval);
                return;
            }

            const days = Math.floor(remaining / 86400);
            remaining %= 86400;
            const hours = Math.floor(remaining / 3600);
            remaining %= 3600;
            const mins = Math.floor(remaining / 60);
            const secs = remaining % 60;

            document.getElementById("cd-days").textContent = days;
            document.getElementById("cd-hours").textContent = hours;
            document.getElementById("cd-mins").textContent = mins;
            document.getElementById("cd-secs").textContent = secs;
        }

        tick();
        countdownInterval = setInterval(tick, 1000);
    }

    async function fetchVaultAndSchedule() {
        try {
            const res = await fetch(RPC, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    jsonrpc: "2.0",
                    id: 1,
                    method: "sui_getObject",
                    params: [VAULT_ID, { showContent: true }]
                })
            });

            const data = await res.json();
            const fields = data?.result?.data?.content?.fields ?? {};

            const raw = Number(fields.internal_pool ?? 0);
            const vaultTokens = raw / DECIMALS;

            document.getElementById("vault-balance").textContent =
                vaultTokens.toLocaleString(undefined, { maximumFractionDigits: 2 }) + " SEC2";

            boostEndTs = Number(fields.boost_end_ts ?? 0);

            updateProgressBar(vaultTokens);
            updateRateAndBurnStats(vaultTokens);
            startCountdown();

        } catch (e) {
            document.getElementById("vault-balance").textContent = "Error";
            document.getElementById("burned-total").textContent = "Error";
            document.getElementById("progress-label").textContent = "Error";
        }
    }

    calculateBurnSchedule();
    fetchVaultAndSchedule();
    setInterval(fetchVaultAndSchedule, 15000);
</script>

</body>
</html>

















































